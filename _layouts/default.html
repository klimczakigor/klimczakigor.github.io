<!DOCTYPE html>
<html lang="en" id="top">
  {% include head.html %}
  <body>
    {% include header.html %}
    <main class="page-content">
      <div class="wrap">
        {{ content }}
      </div>
    </main>
    {% include footer.html %}
    <a class="to-top" href="#top" aria-label="Back to top">â–²</a>
    <script>
      (function () {
        var root = document.documentElement;
        var media = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)");
        function systemTheme() {
          return media && media.matches ? "dark" : "light";
        }
        function applyTheme(value) {
          root.setAttribute("data-theme", value);
        }
        var stored = localStorage.getItem("theme");
        applyTheme(stored || systemTheme());
        if (media) {
          media.addEventListener("change", function () {
            if (!localStorage.getItem("theme")) {
              applyTheme(systemTheme());
            }
          });
        }
        var toggle = document.querySelector("[data-theme-toggle]");
        if (toggle) {
          toggle.addEventListener("click", function () {
            var current = root.getAttribute("data-theme") || systemTheme();
            var next = current === "light" ? "dark" : "light";
            applyTheme(next);
            localStorage.setItem("theme", next);
          });
          toggle.addEventListener("contextmenu", function (event) {
            event.preventDefault();
            localStorage.removeItem("theme");
            applyTheme(systemTheme());
          });
        }
      })();
    </script>
  </body>
</html>
